언어/프레임워크: Node.js + NestJS(Typescript)
→ 타입 안정성 + 구조화 + WebSocket 내장. RN과 TS로 사고 일관성.

실시간 프로토콜: Socket.IO (WebSocket 우선)
→ 연결/재접속/백오프/네트워크 이슈 처리까지 내장, 구현 난이도 ↓.

DB: MongoDB + Mongoose
→ 문서형(메시지 로그 적합), 빠른 MVP, 스키마 유연.

캐시/브로커: Redis
→ 접속 상태(presence), 타이핑, pub/sub(수평 확장) 용.

스토리지: S3 호환(Object Storage)
→ 이미지/파일 업로드.

인증: JWT(Access + Refresh)

배포: Docker + docker-compose(로컬) → 단일 EC2/ECS로 시작

로그: Winston(JSON), 에러는 Sentry 같은 SaaS 연동(선택)

모니터링: 헬스체크 + 기본 메트릭(초기엔 CloudWatch/EC2)

안 넣는 것: 읽음표시(네가 불필요하다고 했음), 그룹 채팅(후순위)

tokens
개발 토큰 발급
$ curl -X POST http://localhost:3000/auth/dev-token \
  -H "Content-Type: application/json" \
  -d '{"userId":"userA"}'
# 응답: { "token": "xxxxx.yyyyy.zzzzz" }
{"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyQSIsImlhdCI6MTc2MjQyNDk4NiwiZXhwIjoxNzYzMDI5Nzg2fQ.yMldDVmtX5s4NEk7U779IcX5I68QifuUxxOowT0Rfd8"}
jlion@Daniel MINGW64 ~/Desktop/chat-stack-scaffold/server

1:1 방 생성/확인
$ curl -X POST http://localhost:3000/rooms/ensure \
  -H "Content-Type: application/json" \
  -d '{"userA":"userA","userB":"userB"}'
# 응답: { "_id":"<roomId>", "userIds":["userA","userB"], ... }
{"userIds":["userA","userB"],"_id":"690c78a7394a396f4b97a713","createdAt":"2025-11-06T10:29:59.028Z","updatedAt":"2025-11-06T10:29:59.028Z","__v":0}
jlion@Daniel MINGW64 ~/Desktop/chat-stack-scaffold/server

테스트용으로 userB 토큰도 하나 더 만들어둬:
$ curl -X POST http://localhost:3000/auth/dev-token \
  -H "Content-Type: application/json" \
  -d '{"userId":"userB"}'
{"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyQiIsImlhdCI6MTc2MjQyNTAxOCwiZXhwIjoxNzYzMDI5ODE4fQ.OHGSIQ1OLh0qncNNkSRTHht_U8CE6uW3NEoyy5-oJ6Q"}